(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94074,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(46932),n=e.i(88653),r=e.i(37727),i=e.i(14764),l=e.i(66992),c=e.i(68054),o=e.i(75254);let d=(0,o.default)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),u=(0,o.default)("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);e.s(["default",0,()=>{let[e,o]=(0,t.useState)(!1),[x,m]=(0,t.useState)(""),[p,b]=(0,t.useState)([]),[y,h]=(0,t.useState)(!1),[g,f]=(0,t.useState)(!1),j=(0,t.useRef)(null),w=(0,t.useRef)(null);(0,t.useEffect)(()=>{j.current?.scrollIntoView({behavior:"smooth"})},[p]),(0,t.useEffect)(()=>{if(e&&!w.current){let e=new WebSocket("ws://127.0.0.1:8000/ws/chat/");w.current=e,e.onopen=()=>{console.log("Connected to Jarvis Terminal")},e.onmessage=e=>{let a=JSON.parse(e.data);if("start"===a.type){h(!1);let e={id:Date.now(),text:"",sender:"jarvis",isStreaming:!0};b(a=>[...a,e])}else if("chunk"===a.type)b(e=>{let t=e.length-1;if(t>=0&&"jarvis"===e[t].sender){let s={...e[t],text:e[t].text+a.content};return[...e.slice(0,t),s]}return e});else if("end"===a.type)b(e=>{let a=e.length-1;if(a>=0){let t={...e[a],isStreaming:!1},s=[...e.slice(0,a),t];return"jarvis"===t.sender&&v(t.text),s}return e});else if("error"===a.type||a.error){console.error("Jarvis Error:",a.error);let e={id:Date.now(),text:"Error processing request.",sender:"jarvis"};b(a=>[...a,e]),v("Error processing request."),h(!1)}else if(a.message){let e={id:Date.now(),text:a.message,sender:"jarvis"};b(a=>[...a,e]),v(a.message),h(!1)}},e.onerror=e=>{console.error("WebSocket Error:",e);let a={id:Date.now(),text:"Connection interrupted. Re-establishing uplink...",sender:"jarvis"};b(e=>[...e,a]),v("Connection interrupted."),h(!1)},e.onclose=()=>{console.log("Disconnected from Jarvis Terminal"),w.current=null}}return()=>{!e&&w.current&&(w.current.close(),w.current=null)}},[e]);let v=e=>{if(!g&&"speechSynthesis"in window){window.speechSynthesis.cancel();let a=new SpeechSynthesisUtterance(e.replace(/[*#`_]/g,"")),t=window.speechSynthesis.getVoices().find(e=>e.name.includes("Male")||e.name.includes("David")||e.name.includes("Daniel")||e.name.includes("Google US English"));t&&(a.voice=t),a.pitch=.8,a.rate=1,window.speechSynthesis.speak(a)}},[N,k]=(0,t.useState)(!0),[S,_]=(0,t.useState)(""),A="Need info? I'm Nance Agent, Click to chat!";(0,t.useEffect)(()=>{if(N){let e=0,a=setInterval(()=>{_(A.slice(0,e+1)),++e>A.length&&(clearInterval(a),setTimeout(()=>k(!1),1e4))},50);return()=>clearInterval(a)}},[]);let C=async e=>{if(e.preventDefault(),!x.trim())return;let a={id:Date.now(),text:x,sender:"user"};if(b(e=>[...e,a]),m(""),h(!0),w.current&&w.current.readyState===WebSocket.OPEN)w.current.send(JSON.stringify({message:a.text}));else{let e={id:Date.now()+1,text:"Uplink offline. Unable to transmit.",sender:"jarvis"};b(a=>[...a,e]),v("Uplink offline."),h(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.AnimatePresence,{children:!e&&(0,a.jsxs)("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end gap-2",children:[N&&(0,a.jsxs)(s.motion.div,{initial:{opacity:0,y:10,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.9},className:"relative bg-black/80 border border-cyan-500/50 text-cyan-400 px-4 py-2 rounded-lg backdrop-blur-md shadow-[0_0_15px_rgba(34,211,238,0.2)] mb-2 mr-2 max-w-[200px]",children:[(0,a.jsx)("p",{className:"text-sm font-mono typing-cursor",children:S}),(0,a.jsx)("div",{className:"absolute -bottom-2 right-6 w-4 h-4 bg-black/80 border-r border-b border-cyan-500/50 transform rotate-45"})]}),(0,a.jsx)(s.motion.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},children:(0,a.jsx)("button",{onClick:()=>{if(o(!0),k(!1),0===p.length){let e="Nance is online. I'm MR.Verma's personal assistant. How may I assist you, Sir?";b([{id:0,text:e,sender:"jarvis"}]),v(e)}},className:"bg-cyan-500/20 hover:bg-cyan-500/40 text-cyan-400 border border-cyan-500/50 rounded-full p-4 shadow-[0_0_20px_rgba(34,211,238,0.3)] backdrop-blur-md transition-all group",children:(0,a.jsx)(l.Cpu,{className:"w-8 h-8 group-hover:rotate-180 transition-transform duration-700"})})})]})}),(0,a.jsx)(n.AnimatePresence,{children:e&&(0,a.jsx)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)(s.motion.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-black/90 border border-cyan-500/30 w-full max-w-2xl h-[600px] rounded-lg shadow-[0_0_50px_rgba(34,211,238,0.15)] flex flex-col font-mono relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] z-10 bg-[length:100%_2px,3px_100%] opacity-20"}),(0,a.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-cyan-500/20 bg-cyan-950/10 z-20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-cyan-400",children:[(0,a.jsx)(c.Terminal,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-bold tracking-widest text-sm",children:"J.A.R.V.I.S. TERMINAL"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>{g||window.speechSynthesis.cancel(),f(!g)},className:"text-cyan-500/50 hover:text-cyan-400 transition-colors",title:g?"Unmute":"Mute",children:g?(0,a.jsx)(u,{className:"w-5 h-5"}):(0,a.jsx)(d,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>o(!1),className:"text-cyan-500/50 hover:text-cyan-400 transition-colors",children:(0,a.jsx)(r.X,{className:"w-6 h-6"})})]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 z-20",children:[p.map(e=>(0,a.jsx)(s.motion.div,{initial:{opacity:0,x:"user"===e.sender?20:-20},animate:{opacity:1,x:0},className:`flex ${"user"===e.sender?"justify-end":"justify-start"}`,children:(0,a.jsx)("div",{className:`max-w-[80%] p-3 rounded-lg border ${"user"===e.sender?"bg-cyan-900/20 border-cyan-500/30 text-cyan-100":"bg-black border-cyan-500/50 text-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.1)]"}`,children:(0,a.jsxs)("p",{className:"text-sm md:text-base leading-relaxed whitespace-pre-wrap",children:[e.text,e.isStreaming&&(0,a.jsx)("span",{className:"inline-block w-2 h-4 bg-cyan-400 ml-1 animate-pulse"})]})})},e.id)),y&&(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsxs)("div",{className:"bg-black border border-cyan-500/50 text-cyan-400 p-3 rounded-lg shadow-[0_0_10px_rgba(34,211,238,0.1)] flex gap-2 items-center",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse delay-100"}),(0,a.jsx)("span",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse delay-200"})]})}),(0,a.jsx)("div",{ref:j})]}),(0,a.jsx)("form",{onSubmit:C,className:"p-4 border-t border-cyan-500/20 bg-cyan-950/5 z-20",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:x,onChange:e=>m(e.target.value),placeholder:"ENTER COMMAND...",className:"flex-1 bg-black/50 border border-cyan-500/30 rounded px-4 py-3 text-cyan-100 placeholder-cyan-700/50 focus:outline-none focus:border-cyan-400/70 focus:shadow-[0_0_15px_rgba(34,211,238,0.1)] transition-all"}),(0,a.jsx)("button",{type:"submit",disabled:y,className:"bg-cyan-500/10 hover:bg-cyan-500/20 text-cyan-400 border border-cyan-500/50 rounded px-4 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)(i.Send,{className:"w-5 h-5"})})]})})]})})})]})}],94074)}]);